<section class="register-page">
  <div class="shell">
    <h1>Create your account</h1>
    <p class="subtitle">Join the GameForge community to track your purchases and wallet</p>

    <form (ngSubmit)="onRegister()" #registerForm="ngForm">
      <div class="two-column">
        <label>
          <span>Username</span>
          <input type="text" name="username" required [(ngModel)]="username" placeholder="Username" />
        </label>
        <label>
          <span>Email</span>
          <input type="email" name="email" required [(ngModel)]="email" placeholder="Email address" />
        </label>
      </div>

      <div class="two-column">
        <label>
          <span>Password</span>
          <input type="password" name="password" required [(ngModel)]="password" placeholder="Password" />
        </label>
        <label>
          <span>Confirm password</span>
          <input
            type="password"
            name="confirmPassword"
            required
            [(ngModel)]="confirmPassword"
            placeholder="Confirm password"
          />
        </label>
      </div>

      <label class="file-input">
        <span>Avatar image</span>
        <input type="file" accept="image/*" (change)="onFileSelected($event)" />
      </label>

      <p class="error" *ngIf="errorMessage()">{{ errorMessage() }}</p>

      <button type="submit" [disabled]="registerForm.invalid || loading()">
        <span *ngIf="!loading(); else registering">Create account</span>
      </button>
    </form>

    <footer>
      Already have an account? <a routerLink="/">Sign in</a>
    </footer>
  </div>
</section>

<ng-template #registering>
  <span class="loader"></span>
</ng-template>
